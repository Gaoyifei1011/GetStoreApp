<Window
    x:Class="GetStoreAppInstaller.Views.Windows.InstallerWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:animatedvisuals="using:Microsoft.UI.Xaml.Controls.AnimatedVisuals"
    xmlns:backdrophelper="using:GetStoreAppInstaller.Helpers.Backdrop"
    xmlns:converter="using:GetStoreAppInstaller.Helpers.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:enum="using:GetStoreAppInstaller.Extensions.DataType.Enums"
    xmlns:globalization="using:Windows.Globalization"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:model="using:GetStoreAppInstaller.Models"
    xmlns:rootservice="using:GetStoreAppInstaller.Services.Root"
    xmlns:settingsservice="using:GetStoreAppInstaller.Services.Settings"
    xmlns:system="using:System"
    Title="{x:Bind WindowTitle, Mode=OneWay}"
    Activated="{x:Bind OnActivated}"
    SizeChanged="{x:Bind OnSizeChanged}"
    SystemBackdrop="{x:Bind WindowSystemBackdrop, Mode=OneWay}"
    mc:Ignorable="d">

    <Page
        x:Name="InstallerPage"
        ActualThemeChanged="{x:Bind OnActualThemeChanged}"
        AllowDrop="{x:Bind CanDragFile, Mode=OneWay}"
        Background="Transparent"
        DragEnter="{x:Bind OnDragEnter}"
        Drop="{x:Bind OnDrop}"
        FlowDirection="{x:Bind settingsservice:LanguageService.FlowDirection}"
        Loaded="{x:Bind OnLoaded}"
        RequestedTheme="{x:Bind WindowTheme, Mode=OneWay}">

        <Page.Resources>
            <ResourceDictionary>
                <ResourceDictionary.ThemeDictionaries>
                    <ResourceDictionary x:Key="Default">
                        <Color x:Key="DefaultBackgroundColor">#141414</Color>
                        <SolidColorBrush x:Key="DefaultBackgroundColorBrush" Color="{ThemeResource DefaultBackgroundColor}" />
                    </ResourceDictionary>
                    <ResourceDictionary x:Key="HighConstract">
                        <Color x:Key="DefaultBackgroundColor">#FF0000</Color>
                        <SolidColorBrush x:Key="DefaultBackgroundColorBrush" Color="{ThemeResource DefaultBackgroundColor}" />
                    </ResourceDictionary>
                    <ResourceDictionary x:Key="Light">
                        <Color x:Key="DefaultBackgroundColor">#F0F3F9</Color>
                        <SolidColorBrush x:Key="DefaultBackgroundColorBrush" Color="{ThemeResource DefaultBackgroundColor}" />
                    </ResourceDictionary>
                </ResourceDictionary.ThemeDictionaries>

                <SolidColorBrush x:Key="ExpanderChevronBackground" Color="Transparent" />
                <SolidColorBrush x:Key="ExpanderChevronPointerOverBackground" Color="Transparent" />
                <SolidColorBrush x:Key="ExpanderChevronPressedBackground" Color="Transparent" />

                <!--  标题栏右键菜单  -->
                <MenuFlyout
                    x:Name="TitlebarMenuFlyout"
                    x:FieldModifier="public"
                    Placement="BottomEdgeAlignedLeft">

                    <MenuFlyoutItem
                        Height="28"
                        Padding="11,0"
                        Click="{x:Bind OnRestoreClicked}"
                        FontSize="12"
                        IsEnabled="{x:Bind IsWindowMaximized, Mode=OneWay}"
                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Restore')}">

                        <MenuFlyoutItem.Icon>
                            <FontIcon Margin="6" Glyph="&#xE923;" />
                        </MenuFlyoutItem.Icon>
                    </MenuFlyoutItem>

                    <MenuFlyoutItem
                        Height="28"
                        Padding="11,0"
                        Click="{x:Bind OnMoveClicked}"
                        FontSize="12"
                        IsEnabled="{x:Bind IsWindowMaximized.Equals(x:False), Mode=OneWay}"
                        Tag="{x:Bind TitlebarMenuFlyout}"
                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Move')}" />

                    <MenuFlyoutItem
                        Height="28"
                        Padding="11,0"
                        Click="{x:Bind OnSizeClicked}"
                        FontSize="12"
                        IsEnabled="{x:Bind IsWindowMaximized.Equals(x:False), Mode=OneWay}"
                        Tag="{x:Bind TitlebarMenuFlyout}"
                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Size')}" />

                    <MenuFlyoutItem
                        Height="28"
                        Padding="11,0"
                        Click="{x:Bind OnMinimizeClicked}"
                        FontSize="12"
                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Minimize')}">
                        <MenuFlyoutItem.Icon>
                            <FontIcon Margin="6" Glyph="&#xE921;" />
                        </MenuFlyoutItem.Icon>
                    </MenuFlyoutItem>

                    <MenuFlyoutItem
                        Height="28"
                        Padding="11,0"
                        Click="{x:Bind OnMaximizeClicked}"
                        FontSize="12"
                        IsEnabled="{x:Bind IsWindowMaximized.Equals(x:False), Mode=OneWay}"
                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Maximize')}">

                        <MenuFlyoutItem.Icon>
                            <FontIcon Margin="6" Glyph="&#xE922;" />
                        </MenuFlyoutItem.Icon>
                    </MenuFlyoutItem>

                    <MenuFlyoutSeparator Width="200" />

                    <MenuFlyoutItem
                        Height="28"
                        Padding="11,0"
                        Click="{x:Bind OnCloseClicked}"
                        FontSize="12"
                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Close')}">

                        <MenuFlyoutItem.Icon>
                            <FontIcon Margin="6" Glyph="&#xE8BB;" />
                        </MenuFlyoutItem.Icon>

                        <MenuFlyoutItem.KeyboardAccelerators>
                            <KeyboardAccelerator Key="F4" Modifiers="Menu" />
                        </MenuFlyoutItem.KeyboardAccelerators>
                    </MenuFlyoutItem>
                </MenuFlyout>

                <XamlUICommand x:Name="DeleteDependencyPackageCommand" ExecuteRequested="{x:Bind OnDeleteDependencyPackageExecuteRequested}" />
            </ResourceDictionary>
        </Page.Resources>

        <Grid
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            Background="Transparent">
            <Button
                Width="40"
                Height="35"
                Margin="2,2,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Click="{x:Bind OnOpenSettingsClicked}">

                <AnimatedIcon>
                    <AnimatedIcon.Source>
                        <animatedvisuals:AnimatedSettingsVisualSource />
                    </AnimatedIcon.Source>
                    <AnimatedIcon.FallbackIconSource>
                        <FontIconSource Glyph="&#xE713;" />
                    </AnimatedIcon.FallbackIconSource>
                </AnimatedIcon>

                <ToolTipService.ToolTip>
                    <ToolTip
                        MaxWidth="9999"
                        Background="Transparent"
                        Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Settings')}"
                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                </ToolTipService.ToolTip>
            </Button>

            <!--  空应用包  -->
            <Grid
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                RowSpacing="10"
                Visibility="{x:Bind IsParseEmpty, Mode=OneWay}">

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto " />
                    <RowDefinition Height="Auto " />
                </Grid.RowDefinitions>

                <TextBlock
                    Grid.Row="0"
                    HorizontalAlignment="Center"
                    FontSize="26"
                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/ParseEmpty')}" />

                <Button
                    Grid.Row="1"
                    HorizontalAlignment="Center"
                    Click="{x:Bind OnOpenPackageClicked}"
                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/OpenPackage')}" />
            </Grid>

            <Grid Visibility="{x:Bind converter:ValueConverterHelper.BooleanToVisibilityReverseConvert(IsParseEmpty), Mode=OneWay}">

                <!--  正在解析应用中  -->
                <Grid
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    RowSpacing="10"
                    Visibility="{x:Bind converter:ValueConverterHelper.BooleanToVisibilityReverseConvert(IsLoadCompleted), Mode=OneWay}">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto " />
                        <RowDefinition Height="Auto " />
                    </Grid.RowDefinitions>

                    <ProgressRing
                        Grid.Row="0"
                        Width="60"
                        Height="60" />

                    <TextBlock
                        Grid.Row="1"
                        FontSize="26"
                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/ParsingApp')}" />
                </Grid>

                <Grid Visibility="{x:Bind IsLoadCompleted, Mode=OneWay}">

                    <Grid
                        Margin="30,45,0,0"
                        RowSpacing="3"
                        Visibility="{x:Bind IsParseSuccessfully, Mode=OneWay}">

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <Grid Grid.Row="0" Margin="0,0,30,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <!--  应用图标  -->
                            <Grid
                                Grid.Column="0"
                                Width="100"
                                Height="100"
                                Margin="0,0,12,0"
                                Background="#3076C6"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                BorderThickness="1"
                                CornerRadius="{StaticResource ControlCornerRadius}"
                                Visibility="{x:Bind converter:ValueCheckConverterHelper.CheckPackageFileType(PackageFileType, enum:PackageFileType.Package), Mode=OneWay}">

                                <Image
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Source="{x:Bind PackageIconImage, Mode=OneWay}"
                                    Stretch="None" />
                            </Grid>

                            <!--  应用信息  -->
                            <Grid Grid.Column="1">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>

                                <TextBlock
                                    x:Name="PackageNameText"
                                    Grid.Row="0"
                                    HorizontalAlignment="Left"
                                    FontSize="26"
                                    FontWeight="SemiBold"
                                    IsTextSelectionEnabled="True"
                                    Text="{x:Bind PackageName, Mode=OneWay}"
                                    TextTrimming="CharacterEllipsis">

                                    <ToolTipService.ToolTip>
                                        <ToolTip
                                            MaxWidth="9999"
                                            Background="Transparent"
                                            Content="{x:Bind PackageName, Mode=OneWay}"
                                            Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                            Visibility="{Binding ElementName=PackageNameText, Path=IsTextTrimmed, Mode=OneWay}" />
                                    </ToolTipService.ToolTip>
                                </TextBlock>

                                <TextBlock
                                    x:Name="PublisherText"
                                    Grid.Row="1"
                                    HorizontalAlignment="Left"
                                    IsTextSelectionEnabled="True"
                                    TextTrimming="CharacterEllipsis">
                                    <Run Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Publisher')}" />
                                    <Run Text="{x:Bind PublisherDisplayName, Mode=OneWay}" />

                                    <ToolTipService.ToolTip>
                                        <ToolTip
                                            MaxWidth="9999"
                                            Background="Transparent"
                                            Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                            Visibility="{Binding ElementName=PublisherText, Path=IsTextTrimmed, Mode=OneWay}">
                                            <TextBlock Grid.Row="1">
                                                <Run Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Publisher')}" />
                                                <Run Text="{x:Bind PublisherDisplayName, Mode=OneWay}" />
                                            </TextBlock>
                                        </ToolTip>
                                    </ToolTipService.ToolTip>
                                </TextBlock>

                                <TextBlock
                                    x:Name="PackageVersionText"
                                    Grid.Row="2"
                                    HorizontalAlignment="Left"
                                    IsTextSelectionEnabled="True"
                                    TextTrimming="CharacterEllipsis">
                                    <Run Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/PackageVersion')}" />
                                    <Run Text="{x:Bind system:Convert.ToString(Version), Mode=OneWay}" />

                                    <ToolTipService.ToolTip>
                                        <ToolTip
                                            MaxWidth="9999"
                                            Background="Transparent"
                                            Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                            Visibility="{Binding ElementName=PackageVersionText, Path=IsTextTrimmed, Mode=OneWay}">
                                            <TextBlock Grid.Row="1">
                                                <Run Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/PackageVersion')}" />
                                                <Run Text="{x:Bind system:Convert.ToString(Version), Mode=OneWay}" />
                                            </TextBlock>
                                        </ToolTip>
                                    </ToolTipService.ToolTip>
                                </TextBlock>

                                <ProgressBar
                                    Grid.Row="3"
                                    Padding="0,0,4,0"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center"
                                    IsIndeterminate="{x:Bind IsInstallWaiting, Mode=OneWay}"
                                    ShowError="{x:Bind IsInstallFailed, Mode=OneWay}"
                                    Visibility="{x:Bind IsInstalling, Mode=OneWay}"
                                    Value="{x:Bind InstallProgressValue, Mode=OneWay}" />
                            </Grid>

                            <Grid
                                Grid.Column="2"
                                Margin="10,0,0,0"
                                VerticalAlignment="Stretch"
                                RowSpacing="2">

                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>

                                <ContentControl
                                    Grid.Row="0"
                                    Margin="5,0,0,0"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Top"
                                    Visibility="{x:Bind converter:ValueConverterHelper.BooleanToVisibilityReverseConvert(IsInstalling), Mode=OneWay}">

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <Button
                                            Grid.Column="0"
                                            Width="34"
                                            Height="34"
                                            Margin="0,0,3,0"
                                            Padding="0"
                                            Click="{x:Bind OnOpenPackageClicked}">

                                            <Button.Content>
                                                <FontIcon FontSize="16" Glyph="&#xE8E5;" />
                                            </Button.Content>

                                            <ToolTipService.ToolTip>
                                                <ToolTip
                                                    MaxWidth="9999"
                                                    Background="Transparent"
                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/OpenPackage')}"
                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                                            </ToolTipService.ToolTip>
                                        </Button>

                                        <Button
                                            Grid.Column="1"
                                            Width="34"
                                            Height="34"
                                            Margin="0,0,3,0"
                                            Padding="0">

                                            <Button.Content>
                                                <FontIcon FontSize="16" Glyph="&#xF003;" />
                                            </Button.Content>

                                            <Button.Flyout>
                                                <Flyout
                                                    x:Name="AddDependencyFlyout"
                                                    Placement="Bottom"
                                                    ShouldConstrainToRootBounds="False"
                                                    SystemBackdrop="{StaticResource AcrylicBackgroundFillColorDefaultBackdrop}">

                                                    <Flyout.FlyoutPresenterStyle>
                                                        <Style BasedOn="{StaticResource DefaultFlyoutPresenterStyle}" TargetType="FlyoutPresenter">
                                                            <Setter Property="Padding" Value="0" />
                                                            <Setter Property="Background" Value="Transparent" />
                                                            <Setter Property="MinWidth" Value="0" />
                                                        </Style>
                                                    </Flyout.FlyoutPresenterStyle>

                                                    <Grid DataContext="{x:Bind InstallerPage}">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="40" />
                                                            <RowDefinition Height="*" />
                                                        </Grid.RowDefinitions>

                                                        <Grid
                                                            Grid.Row="0"
                                                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                            BorderThickness="0,0,0,1">

                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="Auto" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="Auto" />
                                                                <ColumnDefinition Width="Auto" />
                                                                <ColumnDefinition Width="Auto" />
                                                            </Grid.ColumnDefinitions>

                                                            <FontIcon
                                                                Grid.Column="0"
                                                                Margin="16,0,6,0"
                                                                VerticalAlignment="Center"
                                                                FontSize="16"
                                                                Glyph="&#xF003;" />

                                                            <TextBlock
                                                                Grid.Column="1"
                                                                VerticalAlignment="Center"
                                                                FontSize="14"
                                                                Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AddedDependencyPackage')}" />

                                                            <Button
                                                                Grid.Column="2"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Click="{x:Bind OnAddDependencyClicked}"
                                                                Style="{StaticResource AlternateCloseButtonStyle}">

                                                                <Button.Content>
                                                                    <FontIcon
                                                                        Margin="4"
                                                                        FontSize="16"
                                                                        Glyph="&#xE710;" />
                                                                </Button.Content>

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AddDependency')}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                                                                </ToolTipService.ToolTip>
                                                            </Button>

                                                            <Button
                                                                Grid.Column="3"
                                                                Margin="-5,0,0,0"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Click="{x:Bind OnClearDependencyClicked}"
                                                                IsEnabled="{x:Bind system:Convert.ToBoolean(InstallDependencyCollection.Count), Mode=OneWay}"
                                                                Style="{StaticResource AlternateCloseButtonStyle}">

                                                                <Button.Content>
                                                                    <FontIcon
                                                                        Margin="4"
                                                                        FontSize="16"
                                                                        Glyph="&#xE74D;" />
                                                                </Button.Content>

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/ClearDependency')}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                                                                </ToolTipService.ToolTip>
                                                            </Button>

                                                            <Button
                                                                Grid.Column="4"
                                                                Margin="-5,0,0,0"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Click="{x:Bind OnCloseFlyoutClicked}"
                                                                Style="{StaticResource AlternateCloseButtonStyle}"
                                                                Tag="{x:Bind AddDependencyFlyout}">

                                                                <Button.Content>
                                                                    <FontIcon
                                                                        Margin="4"
                                                                        FontSize="16"
                                                                        Glyph="&#xE711;" />
                                                                </Button.Content>

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/CloseFlyout')}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                                                                </ToolTipService.ToolTip>
                                                            </Button>
                                                        </Grid>

                                                        <Grid
                                                            Grid.Row="1"
                                                            Width="300"
                                                            Height="100"
                                                            Padding="20"
                                                            Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityReverseConvert(InstallDependencyCollection.Count), Mode=OneWay}">
                                                            <TextBlock
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AddDependencyListEmpty')}"
                                                                TextAlignment="Center"
                                                                TextWrapping="WrapWholeWords" />
                                                        </Grid>

                                                        <ListView
                                                            Grid.Row="1"
                                                            Width="450"
                                                            Height="200"
                                                            ItemsSource="{x:Bind InstallDependencyCollection}"
                                                            SelectionMode="None"
                                                            Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(InstallDependencyCollection.Count), Mode=OneWay}">

                                                            <ListView.ItemContainerStyle>
                                                                <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                                                    <Setter Property="Background" Value="Transparent" />
                                                                    <Setter Property="Margin" Value="0" />
                                                                    <Setter Property="MinHeight" Value="0" />
                                                                    <Setter Property="Padding" Value="0" />
                                                                </Style>
                                                            </ListView.ItemContainerStyle>

                                                            <ItemsControl.ItemContainerTransitions>
                                                                <TransitionCollection />
                                                            </ItemsControl.ItemContainerTransitions>

                                                            <ListView.ItemTemplate>
                                                                <DataTemplate x:DataType="model:InstallDependencyModel">
                                                                    <Grid
                                                                        Height="60"
                                                                        Margin="2,0,2,2"
                                                                        Padding="16,0,6,0"
                                                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                                                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                                        BorderThickness="1"
                                                                        CornerRadius="{StaticResource ControlCornerRadius}">

                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="*" />
                                                                            <ColumnDefinition Width="Auto" />
                                                                        </Grid.ColumnDefinitions>

                                                                        <Grid
                                                                            Grid.Column="0"
                                                                            VerticalAlignment="Center"
                                                                            RowSpacing="2">
                                                                            <Grid.RowDefinitions>
                                                                                <RowDefinition Height="Auto" />
                                                                                <RowDefinition Height="Auto" />
                                                                            </Grid.RowDefinitions>

                                                                            <TextBlock
                                                                                x:Name="DependencyNameText"
                                                                                Grid.Row="0"
                                                                                MinWidth="50"
                                                                                Margin="0,0,5,0"
                                                                                HorizontalAlignment="Left"
                                                                                VerticalAlignment="Center"
                                                                                FontSize="14"
                                                                                IsTextSelectionEnabled="True"
                                                                                Text="{x:Bind DependencyName}"
                                                                                TextAlignment="Left"
                                                                                TextTrimming="CharacterEllipsis">

                                                                                <ToolTipService.ToolTip>
                                                                                    <ToolTip
                                                                                        MaxWidth="9999"
                                                                                        Background="Transparent"
                                                                                        Content="{x:Bind DependencyName}"
                                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                                        Visibility="{Binding ElementName=DependencyNameText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                                </ToolTipService.ToolTip>
                                                                            </TextBlock>

                                                                            <TextBlock
                                                                                x:Name="DependencyInfoText"
                                                                                Grid.Row="1"
                                                                                MinWidth="50"
                                                                                Margin="0,0,5,0"
                                                                                HorizontalAlignment="Left"
                                                                                VerticalAlignment="Center"
                                                                                FontSize="14"
                                                                                IsTextSelectionEnabled="True"
                                                                                TextAlignment="Left"
                                                                                TextTrimming="CharacterEllipsis">

                                                                                <Run Text="{x:Bind DependencyVersion}" />
                                                                                <Run Text=" | " />
                                                                                <Run Text="{x:Bind DependencyPublisher}" />

                                                                                <ToolTipService.ToolTip>
                                                                                    <ToolTip
                                                                                        MaxWidth="9999"
                                                                                        Background="Transparent"
                                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                                        Visibility="{Binding ElementName=DependencyInfoText, Path=IsTextTrimmed, Mode=OneWay}">
                                                                                        <TextBlock>
                                                                                            <Run Text="{x:Bind DependencyVersion}" />
                                                                                            <Run Text=" | " />
                                                                                            <Run Text="{x:Bind DependencyPublisher}" />
                                                                                        </TextBlock>
                                                                                    </ToolTip>
                                                                                </ToolTipService.ToolTip>
                                                                            </TextBlock>
                                                                        </Grid>

                                                                        <Button
                                                                            Grid.Column="1"
                                                                            Width="Auto"
                                                                            Height="Auto"
                                                                            Margin="10,0,0,0"
                                                                            HorizontalAlignment="Center"
                                                                            VerticalAlignment="Center"
                                                                            Command="{StaticResource DeleteDependencyPackageCommand}"
                                                                            CommandParameter="{x:Bind DependencyFullName}"
                                                                            Style="{StaticResource AlternateCloseButtonStyle}">

                                                                            <Button.Content>
                                                                                <FontIcon
                                                                                    Margin="4"
                                                                                    FontSize="16"
                                                                                    Glyph="&#xE711;" />
                                                                            </Button.Content>

                                                                            <ToolTipService.ToolTip>
                                                                                <ToolTip
                                                                                    MaxWidth="9999"
                                                                                    Background="Transparent"
                                                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DeleteDependencyPackage')}"
                                                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                                                                            </ToolTipService.ToolTip>
                                                                        </Button>
                                                                    </Grid>
                                                                </DataTemplate>
                                                            </ListView.ItemTemplate>
                                                        </ListView>
                                                    </Grid>
                                                </Flyout>
                                            </Button.Flyout>

                                            <ToolTipService.ToolTip>
                                                <ToolTip
                                                    MaxWidth="9999"
                                                    Background="Transparent"
                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AddDependency')}"
                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                                            </ToolTipService.ToolTip>
                                        </Button>

                                        <Button
                                            Grid.Column="2"
                                            Width="32"
                                            Height="32"
                                            Padding="0"
                                            HorizontalContentAlignment="Stretch"
                                            VerticalContentAlignment="Stretch"
                                            Click="{x:Bind OnInstallAppClicked}"
                                            Style="{StaticResource AccentButtonStyle}">

                                            <Button.Content>
                                                <FontIcon FontSize="16" Glyph="&#xE896;" />
                                            </Button.Content>

                                            <ToolTipService.ToolTip>
                                                <ToolTip
                                                    MaxWidth="9999"
                                                    Background="Transparent"
                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/InstallApp')}"
                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                                            </ToolTipService.ToolTip>
                                        </Button>
                                    </Grid>
                                </ContentControl>

                                <Button
                                    Grid.Row="0"
                                    Width="32"
                                    Height="32"
                                    Padding="0"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Top"
                                    Click="{x:Bind OnCancelInstallClicked}"
                                    IsEnabled="{x:Bind IsCancelInstall, Mode=OneWay}"
                                    Style="{StaticResource AccentButtonStyle}"
                                    Visibility="{x:Bind IsInstalling, Mode=OneWay}">

                                    <FontIcon FontSize="16" Glyph="&#xE711;" />

                                    <ToolTipService.ToolTip>
                                        <ToolTip
                                            MaxWidth="9999"
                                            Background="Transparent"
                                            Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/CancelInstall')}"
                                            Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                                    </ToolTipService.ToolTip>
                                </Button>

                                <Grid
                                    Grid.Row="1"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center"
                                    ColumnSpacing="5">

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <TextBlock
                                        Grid.Column="0"
                                        Margin="0,0,0,4"
                                        VerticalAlignment="Center"
                                        FontSize="16"
                                        Text="{x:Bind InstallStateString, Mode=OneWay}"
                                        TextAlignment="Center"
                                        Visibility="{x:Bind IsInstalling, Mode=OneWay}" />

                                    <Button
                                        Grid.Column="1"
                                        Width="32"
                                        Height="32"
                                        Padding="0"
                                        Visibility="{x:Bind IsInstallFailed, Mode=OneWay}">

                                        <Button.Content>
                                            <FontIcon FontSize="14" Glyph="&#xE783;" />
                                        </Button.Content>

                                        <Button.Flyout>
                                            <Flyout
                                                x:Name="ViewErrorInformationFlyout"
                                                Placement="Bottom"
                                                ShouldConstrainToRootBounds="False"
                                                SystemBackdrop="{StaticResource AcrylicBackgroundFillColorDefaultBackdrop}">

                                                <Flyout.FlyoutPresenterStyle>
                                                    <Style BasedOn="{StaticResource DefaultFlyoutPresenterStyle}" TargetType="FlyoutPresenter">
                                                        <Setter Property="Padding" Value="0" />
                                                        <Setter Property="Background" Value="Transparent" />
                                                        <Setter Property="MinWidth" Value="0" />
                                                    </Style>
                                                </Flyout.FlyoutPresenterStyle>

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="40" />
                                                        <RowDefinition Height="*" />
                                                    </Grid.RowDefinitions>

                                                    <Grid
                                                        Grid.Row="0"
                                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                        BorderThickness="0,0,0,1">

                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto" />
                                                            <ColumnDefinition Width="*" />
                                                            <ColumnDefinition Width="Auto" />
                                                            <ColumnDefinition Width="Auto" />
                                                        </Grid.ColumnDefinitions>

                                                        <FontIcon
                                                            Grid.Column="0"
                                                            Margin="16,0,6,0"
                                                            VerticalAlignment="Center"
                                                            FontSize="16"
                                                            Glyph="&#xE783;" />

                                                        <TextBlock
                                                            Grid.Column="1"
                                                            VerticalAlignment="Center"
                                                            FontSize="14"
                                                            Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/ErrorInformation')}" />

                                                        <Button
                                                            Grid.Column="2"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            Click="{x:Bind OnCopyErrorInformationClicked}"
                                                            IsEnabled="{x:Bind converter:ValueConverterHelper.IsNotEmptyString(InstallFailedInformation), Mode=OneWay}"
                                                            Style="{StaticResource AlternateCloseButtonStyle}">

                                                            <Button.Content>
                                                                <FontIcon
                                                                    Margin="4"
                                                                    FontSize="16"
                                                                    Glyph="&#xE8C8;" />
                                                            </Button.Content>

                                                            <ToolTipService.ToolTip>
                                                                <ToolTip
                                                                    MaxWidth="9999"
                                                                    Background="Transparent"
                                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/CopyErrorInformation')}"
                                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                                                            </ToolTipService.ToolTip>
                                                        </Button>

                                                        <Button
                                                            Grid.Column="3"
                                                            Margin="-5,0,0,0"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            Click="{x:Bind OnCloseFlyoutClicked}"
                                                            Style="{StaticResource AlternateCloseButtonStyle}"
                                                            Tag="{x:Bind ViewErrorInformationFlyout}">

                                                            <Button.Content>
                                                                <FontIcon
                                                                    Margin="4"
                                                                    FontSize="16"
                                                                    Glyph="&#xE711;" />
                                                            </Button.Content>

                                                            <ToolTipService.ToolTip>
                                                                <ToolTip
                                                                    MaxWidth="9999"
                                                                    Background="Transparent"
                                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/CloseFlyout')}"
                                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                                                            </ToolTipService.ToolTip>
                                                        </Button>
                                                    </Grid>

                                                    <Grid
                                                        Grid.Row="1"
                                                        Width="450"
                                                        MinHeight="100"
                                                        Padding="16,8,16,8">

                                                        <TextBlock
                                                            HorizontalAlignment="Left"
                                                            IsTextSelectionEnabled="True"
                                                            Text="{x:Bind InstallFailedInformation, Mode=OneWay}"
                                                            TextWrapping="Wrap" />
                                                    </Grid>
                                                </Grid>
                                            </Flyout>
                                        </Button.Flyout>

                                        <ToolTipService.ToolTip>
                                            <ToolTip
                                                MaxWidth="9999"
                                                Background="Transparent"
                                                Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/ViewErrorInformation')}"
                                                Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                                        </ToolTipService.ToolTip>
                                    </Button>
                                </Grid>
                            </Grid>
                        </Grid>

                        <ScrollViewer
                            Grid.Row="1"
                            HorizontalScrollBarVisibility="Disabled"
                            HorizontalScrollMode="Disabled"
                            VerticalScrollBarVisibility="Auto"
                            VerticalScrollMode="Enabled">

                            <Border>
                                <StackPanel Margin="0,0,30,30">

                                    <!--  基本信息  -->
                                    <Expander
                                        Margin="0,0,0,2"
                                        Padding="0,6,0,6"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Stretch"
                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        IsExpanded="True">

                                        <Expander.Header>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>

                                                <FontIcon
                                                    Grid.Column="0"
                                                    Margin="0,0,12,0"
                                                    FontSize="16"
                                                    Glyph="&#xE946;" />

                                                <TextBlock
                                                    Grid.Column="1"
                                                    VerticalAlignment="Center"
                                                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/BasicInformation')}" />

                                                <HyperlinkButton
                                                    Grid.Column="2"
                                                    Margin="0,0,-15,0"
                                                    Click="{x:Bind OnStartClicked}"
                                                    Visibility="{x:Bind IsAppInstalled, Mode=OneWay}">

                                                    <HyperlinkButton.Content>
                                                        <StackPanel Orientation="Horizontal">
                                                            <TextBlock Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Start')}" />

                                                            <AnimatedIcon
                                                                Width="12"
                                                                Height="12"
                                                                Margin="8,0,0,0"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                AutomationProperties.AccessibilityView="Raw">
                                                                <animatedvisuals:AnimatedChevronDownSmallVisualSource />
                                                                <AnimatedIcon.FallbackIconSource>
                                                                    <FontIconSource
                                                                        FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                                                        FontSize="8"
                                                                        Glyph="&#xE96E;"
                                                                        IsTextScaleFactorEnabled="False" />
                                                                </AnimatedIcon.FallbackIconSource>
                                                            </AnimatedIcon>
                                                        </StackPanel>
                                                    </HyperlinkButton.Content>

                                                    <FlyoutBase.AttachedFlyout>
                                                        <MenuFlyout Placement="Bottom">
                                                            <MenuFlyoutItem Click="{x:Bind OnStartAppClicked}" Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/StartApp')}">

                                                                <MenuFlyoutItem.Icon>
                                                                    <FontIcon Glyph="&#xEB3B;" />
                                                                </MenuFlyoutItem.Icon>
                                                            </MenuFlyoutItem>

                                                            <MenuFlyoutItem Click="{x:Bind OnOpenAppInstalledFolderClicked}" Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/OpenAppInstalledFolder')}">

                                                                <MenuFlyoutItem.Icon>
                                                                    <FontIcon Glyph="&#xE8B7;" />
                                                                </MenuFlyoutItem.Icon>
                                                            </MenuFlyoutItem>

                                                            <MenuFlyoutItem Click="{x:Bind OnOpenAppCachedFolderClicked}" Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/OpenAppCachedFolder')}">

                                                                <MenuFlyoutItem.Icon>
                                                                    <FontIcon Glyph="&#xE8B7;" />
                                                                </MenuFlyoutItem.Icon>
                                                            </MenuFlyoutItem>
                                                        </MenuFlyout>
                                                    </FlyoutBase.AttachedFlyout>
                                                </HyperlinkButton>
                                            </Grid>
                                        </Expander.Header>

                                        <Expander.Content>
                                            <StackPanel Spacing="3">
                                                <!--  应用包信息  -->
                                                <Grid Margin="16,0,10,0" Visibility="{x:Bind converter:ValueCheckConverterHelper.CheckPackageFileType(PackageFileType, enum:PackageFileType.Package), Mode=OneWay}">

                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>

                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                    </Grid.RowDefinitions>

                                                    <FontIcon
                                                        Grid.Row="0"
                                                        Grid.Column="0"
                                                        Margin="0,4,16,3"
                                                        VerticalAlignment="Top"
                                                        FontSize="12"
                                                        Glyph="&#xE915;" />

                                                    <TextBlock
                                                        Grid.Row="0"
                                                        Grid.Column="1"
                                                        Margin="0,0,3,3"
                                                        HorizontalAlignment="Left"
                                                        FontSize="14"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/PackageDescription')}" />

                                                    <TextBlock
                                                        Grid.Row="0"
                                                        Grid.Column="2"
                                                        Margin="0,0,0,3"
                                                        HorizontalAlignment="Left"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind PackageDescription, Mode=OneWay}"
                                                        TextWrapping="Wrap" />

                                                    <FontIcon
                                                        Grid.Row="1"
                                                        Grid.Column="0"
                                                        Margin="0,4,16,3"
                                                        VerticalAlignment="Top"
                                                        FontSize="12"
                                                        Glyph="&#xE915;" />

                                                    <TextBlock
                                                        Grid.Row="1"
                                                        Grid.Column="1"
                                                        Margin="0,0,3,3"
                                                        HorizontalAlignment="Left"
                                                        FontSize="14"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/PackageFamilyName')}" />

                                                    <TextBlock
                                                        Grid.Row="1"
                                                        Grid.Column="2"
                                                        Margin="0,0,0,3"
                                                        HorizontalAlignment="Left"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind PackageFamilyName, Mode=OneWay}"
                                                        TextWrapping="Wrap" />

                                                    <FontIcon
                                                        Grid.Row="2"
                                                        Grid.Column="0"
                                                        Margin="0,4,16,3"
                                                        VerticalAlignment="Top"
                                                        FontSize="12"
                                                        Glyph="&#xE915;" />

                                                    <TextBlock
                                                        Grid.Row="2"
                                                        Grid.Column="1"
                                                        Margin="0,0,3,3"
                                                        HorizontalAlignment="Left"
                                                        FontSize="14"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/PackageFullName')}" />

                                                    <TextBlock
                                                        Grid.Row="2"
                                                        Grid.Column="2"
                                                        Margin="0,0,0,3"
                                                        HorizontalAlignment="Left"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind PackageFullName, Mode=OneWay}"
                                                        TextWrapping="Wrap" />

                                                    <MenuFlyoutSeparator
                                                        Grid.Row="3"
                                                        Grid.ColumnSpan="3"
                                                        Margin="6,0,0,3"
                                                        Background="{ThemeResource CardStrokeColorDefaultBrush}" />

                                                    <FontIcon
                                                        Grid.Row="4"
                                                        Grid.Column="0"
                                                        Margin="0,4,16,3"
                                                        VerticalAlignment="Top"
                                                        FontSize="12"
                                                        Glyph="&#xE915;" />

                                                    <TextBlock
                                                        Grid.Row="4"
                                                        Grid.Column="1"
                                                        Margin="0,0,3,3"
                                                        HorizontalAlignment="Left"
                                                        FontSize="14"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/SupportedArchitecture')}" />

                                                    <TextBlock
                                                        Grid.Row="4"
                                                        Grid.Column="2"
                                                        Margin="0,0,0,3"
                                                        HorizontalAlignment="Left"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind SupportedArchitecture, Mode=OneWay}"
                                                        TextWrapping="Wrap" />

                                                    <FontIcon
                                                        Grid.Row="5"
                                                        Grid.Column="0"
                                                        Margin="0,4,16,3"
                                                        VerticalAlignment="Top"
                                                        FontSize="12"
                                                        Glyph="&#xE915;" />

                                                    <TextBlock
                                                        Grid.Row="5"
                                                        Grid.Column="1"
                                                        Margin="0,0,3,3"
                                                        HorizontalAlignment="Left"
                                                        FontSize="14"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/IsFramework')}" />

                                                    <TextBlock
                                                        Grid.Row="5"
                                                        Grid.Column="2"
                                                        Margin="0,0,0,3"
                                                        HorizontalAlignment="Left"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind IsFramework, Mode=OneWay}"
                                                        TextWrapping="Wrap" />

                                                    <FontIcon
                                                        Grid.Row="6"
                                                        Grid.Column="0"
                                                        Margin="0,4,16,3"
                                                        VerticalAlignment="Top"
                                                        FontSize="12"
                                                        Glyph="&#xE915;" />

                                                    <TextBlock
                                                        Grid.Row="6"
                                                        Grid.Column="1"
                                                        Margin="0,0,3,3"
                                                        HorizontalAlignment="Left"
                                                        FontSize="14"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AppInstalledState')}" />

                                                    <TextBlock
                                                        Grid.Row="6"
                                                        Grid.Column="2"
                                                        Margin="0,0,0,3"
                                                        HorizontalAlignment="Left"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind AppInstalledState, Mode=OneWay}"
                                                        TextWrapping="Wrap" />
                                                </Grid>

                                                <!--  应用安装程序文件信息  -->
                                                <Grid Margin="16,0,10,0" Visibility="{x:Bind converter:ValueCheckConverterHelper.CheckPackageFileType(PackageFileType, enum:PackageFileType.AppInstaller), Mode=OneWay}">

                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>

                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                    </Grid.RowDefinitions>

                                                    <FontIcon
                                                        Grid.Row="0"
                                                        Grid.Column="0"
                                                        Margin="0,4,16,3"
                                                        VerticalAlignment="Top"
                                                        FontSize="12"
                                                        Glyph="&#xE915;" />

                                                    <TextBlock
                                                        Grid.Row="0"
                                                        Grid.Column="1"
                                                        Margin="0,0,3,3"
                                                        HorizontalAlignment="Left"
                                                        FontSize="14"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AppInstallerSourceLink')}" />

                                                    <TextBlock
                                                        Grid.Row="0"
                                                        Grid.Column="2"
                                                        Margin="0,0,0,3"
                                                        HorizontalAlignment="Left"
                                                        Text="{x:Bind AppInstallerSourceLink, Mode=OneWay}"
                                                        Visibility="{x:Bind converter:ValueConverterHelper.BooleanToVisibilityReverseConvert(IsAppInstallerSourceLinkExisted), Mode=OneWay}" />

                                                    <TextBlock
                                                        Grid.Row="0"
                                                        Grid.Column="2"
                                                        Margin="0,0,0,3"
                                                        HorizontalAlignment="Left"
                                                        TextTrimming="CharacterEllipsis"
                                                        Visibility="{x:Bind IsAppInstallerSourceLinkExisted, Mode=OneWay}">

                                                        <Hyperlink Click="{x:Bind OnOpenAppInstallerSourceLinkClicked}" UnderlineStyle="None">
                                                            <Run Text="{x:Bind AppInstallerSourceLink, Mode=OneWay}" />
                                                        </Hyperlink>

                                                        <ToolTipService.ToolTip>
                                                            <ToolTip
                                                                MaxWidth="9999"
                                                                Background="Transparent"
                                                                Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}">
                                                                <StackPanel>
                                                                    <TextBlock Text="{x:Bind AppInstallerSourceLink, Mode=OneWay}" />
                                                                    <TextBlock Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/OpenLink')}" />
                                                                </StackPanel>
                                                            </ToolTip>
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>

                                                    <FontIcon
                                                        Grid.Row="1"
                                                        Grid.Column="0"
                                                        Margin="0,4,16,3"
                                                        VerticalAlignment="Top"
                                                        FontSize="12"
                                                        Glyph="&#xE915;" />

                                                    <TextBlock
                                                        Grid.Row="1"
                                                        Grid.Column="1"
                                                        Margin="0,0,3,3"
                                                        HorizontalAlignment="Left"
                                                        FontSize="14"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/PackageSourceLink')}" />

                                                    <TextBlock
                                                        Grid.Row="1"
                                                        Grid.Column="2"
                                                        Margin="0,0,0,3"
                                                        Text="{x:Bind PackageSourceLink, Mode=OneWay}"
                                                        Visibility="{x:Bind converter:ValueConverterHelper.BooleanToVisibilityReverseConvert(IsPackageSourceLinkExisted), Mode=OneWay}" />

                                                    <TextBlock
                                                        Grid.Row="1"
                                                        Grid.Column="2"
                                                        Margin="0,0,0,3"
                                                        HorizontalAlignment="Left"
                                                        TextTrimming="CharacterEllipsis"
                                                        Visibility="{x:Bind IsPackageSourceLinkExisted, Mode=OneWay}">

                                                        <Hyperlink Click="{x:Bind OnOpenPackageSourceLinkClicked}" UnderlineStyle="None">
                                                            <Run Text="{x:Bind PackageSourceLink, Mode=OneWay}" />
                                                        </Hyperlink>

                                                        <ToolTipService.ToolTip>
                                                            <ToolTip
                                                                MaxWidth="9999"
                                                                Background="Transparent"
                                                                Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}">
                                                                <StackPanel Orientation="Vertical">
                                                                    <TextBlock Text="{x:Bind PackageSourceLink, Mode=OneWay}" />
                                                                    <TextBlock Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/OpenLink')}" />
                                                                </StackPanel>
                                                            </ToolTip>
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>

                                                    <FontIcon
                                                        Grid.Row="2"
                                                        Grid.Column="0"
                                                        Margin="0,4,16,3"
                                                        VerticalAlignment="Top"
                                                        FontSize="12"
                                                        Glyph="&#xE915;" />

                                                    <TextBlock
                                                        Grid.Row="2"
                                                        Grid.Column="1"
                                                        Margin="0,0,3,3"
                                                        HorizontalAlignment="Left"
                                                        FontSize="14"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/PackageType')}" />

                                                    <TextBlock
                                                        Grid.Row="2"
                                                        Grid.Column="2"
                                                        Margin="0,0,0,3"
                                                        HorizontalAlignment="Left"
                                                        IsTextSelectionEnabled="True"
                                                        Text="{x:Bind PackageType, Mode=OneWay}"
                                                        TextWrapping="Wrap" />
                                                </Grid>
                                            </StackPanel>
                                        </Expander.Content>
                                    </Expander>

                                    <!--  更新设置  -->
                                    <Expander
                                        Margin="0,0,0,2"
                                        Padding="0,6,0,6"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Stretch"
                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        IsExpanded="True"
                                        Visibility="{x:Bind IsUpdateSettingsExisted, Mode=OneWay}">

                                        <Expander.Header>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>

                                                <FontIcon
                                                    Grid.Column="0"
                                                    Margin="0,0,12,0"
                                                    FontSize="16"
                                                    Glyph="&#xE895;" />

                                                <TextBlock
                                                    Grid.Column="1"
                                                    VerticalAlignment="Center"
                                                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/UpdateSettings')}" />

                                                <HyperlinkButton
                                                    Grid.Column="2"
                                                    Margin="0,0,-15,0"
                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/LearnUpdateSettings')}"
                                                    NavigateUri="https://learn.microsoft.com/windows/msix/app-installer/how-to-create-appinstaller-file" />
                                            </Grid>
                                        </Expander.Header>

                                        <Expander.Content>
                                            <Grid Margin="16,0,10,0">

                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                </Grid.ColumnDefinitions>

                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                </Grid.RowDefinitions>

                                                <FontIcon
                                                    Grid.Row="0"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="0"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    HorizontalAlignment="Left"
                                                    FontSize="14"
                                                    IsTextSelectionEnabled="True"
                                                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/HoursBetweenUpdateChecks')}" />

                                                <TextBlock
                                                    Grid.Row="0"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    HorizontalAlignment="Left"
                                                    IsTextSelectionEnabled="True"
                                                    Text="{x:Bind HoursBetweenUpdateChecks, Mode=OneWay}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="1"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="1"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    HorizontalAlignment="Left"
                                                    FontSize="14"
                                                    IsTextSelectionEnabled="True"
                                                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/UpdateBlocksActivation')}" />

                                                <TextBlock
                                                    Grid.Row="1"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    HorizontalAlignment="Left"
                                                    IsTextSelectionEnabled="True"
                                                    Text="{x:Bind UpdateBlocksActivation, Mode=OneWay}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="2"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="2"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    HorizontalAlignment="Left"
                                                    FontSize="14"
                                                    IsTextSelectionEnabled="True"
                                                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/ShowPrompt')}" />

                                                <TextBlock
                                                    Grid.Row="2"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    HorizontalAlignment="Left"
                                                    IsTextSelectionEnabled="True"
                                                    Text="{x:Bind ShowPrompt, Mode=OneWay}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="3"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="3"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    HorizontalAlignment="Left"
                                                    FontSize="14"
                                                    IsTextSelectionEnabled="True"
                                                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/ForceUpdateFromAnyVersion')}" />

                                                <TextBlock
                                                    Grid.Row="3"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    HorizontalAlignment="Left"
                                                    IsTextSelectionEnabled="True"
                                                    Text="{x:Bind ForceUpdateFromAnyVersion, Mode=OneWay}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="4"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="4"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    HorizontalAlignment="Left"
                                                    FontSize="14"
                                                    IsTextSelectionEnabled="True"
                                                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AutomaticBackgroundTask')}" />

                                                <TextBlock
                                                    Grid.Row="4"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    HorizontalAlignment="Left"
                                                    IsTextSelectionEnabled="True"
                                                    Text="{x:Bind ForceUpdateFromAnyVersion, Mode=OneWay}"
                                                    TextWrapping="Wrap" />
                                            </Grid>
                                        </Expander.Content>
                                    </Expander>

                                    <!--  目标设备信息  -->
                                    <Expander
                                        Margin="0,0,0,2"
                                        Padding="0"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Stretch"
                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        IsExpanded="True"
                                        Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(TargetDeviceFamilyCollection.Count), Mode=OneWay}">

                                        <Expander.Header>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>

                                                <FontIcon
                                                    Grid.Column="0"
                                                    Margin="0,0,12,0"
                                                    FontSize="16"
                                                    Glyph="&#xE7F8;" />

                                                <TextBlock
                                                    Grid.Column="1"
                                                    VerticalAlignment="Center"
                                                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/TargetDeviceFamily')}" />

                                                <HyperlinkButton
                                                    Grid.Column="2"
                                                    Margin="0,0,-15,0"
                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/LearnTargetDeviceFamily')}"
                                                    NavigateUri="https://learn.microsoft.com/uwp/extension-sdks/device-families-overview" />
                                            </Grid>
                                        </Expander.Header>

                                        <Expander.Content>
                                            <ListView ItemsSource="{x:Bind TargetDeviceFamilyCollection}" SelectionMode="None">

                                                <ListView.ItemContainerStyle>
                                                    <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                                        <Setter Property="Background" Value="Transparent" />
                                                        <Setter Property="Margin" Value="0" />
                                                        <Setter Property="MinHeight" Value="0" />
                                                        <Setter Property="Padding" Value="0" />
                                                    </Style>
                                                </ListView.ItemContainerStyle>

                                                <ItemsControl.ItemContainerTransitions>
                                                    <TransitionCollection />
                                                </ItemsControl.ItemContainerTransitions>

                                                <ListView.Header>
                                                    <Grid
                                                        Height="35"
                                                        Padding="10,0,16,0"
                                                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                        BorderThickness="0">

                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="3*" />
                                                            <ColumnDefinition Width="2*" />
                                                            <ColumnDefinition Width="2*" />
                                                        </Grid.ColumnDefinitions>

                                                        <TextBlock
                                                            x:Name="TargetDeviceNameHeaderText"
                                                            Grid.Column="0"
                                                            Margin="6,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/TargetDeviceName')}"
                                                            TextAlignment="Left"
                                                            TextTrimming="CharacterEllipsis"
                                                            TextWrapping="NoWrap">

                                                            <ToolTipService.ToolTip>
                                                                <ToolTip
                                                                    MaxWidth="9999"
                                                                    Background="Transparent"
                                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/TargetDeviceName')}"
                                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                    Visibility="{x:Bind TargetDeviceNameHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                            </ToolTipService.ToolTip>
                                                        </TextBlock>

                                                        <TextBlock
                                                            x:Name="MinVersionHeaderText"
                                                            Grid.Column="1"
                                                            Margin="6,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/MinVersion')}"
                                                            TextAlignment="Left"
                                                            TextTrimming="CharacterEllipsis"
                                                            TextWrapping="NoWrap">

                                                            <ToolTipService.ToolTip>
                                                                <ToolTip
                                                                    MaxWidth="9999"
                                                                    Background="Transparent"
                                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/MinVersion')}"
                                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                    Visibility="{x:Bind MinVersionHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                            </ToolTipService.ToolTip>
                                                        </TextBlock>

                                                        <TextBlock
                                                            x:Name="MaxVersionTestedHeaderText"
                                                            Grid.Column="2"
                                                            Margin="6,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/MaxVersionTested')}"
                                                            TextAlignment="Left"
                                                            TextTrimming="CharacterEllipsis"
                                                            TextWrapping="NoWrap">

                                                            <ToolTipService.ToolTip>
                                                                <ToolTip
                                                                    MaxWidth="9999"
                                                                    Background="Transparent"
                                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/MaxVersionTested')}"
                                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                    Visibility="{x:Bind MaxVersionTestedHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                            </ToolTipService.ToolTip>
                                                        </TextBlock>
                                                    </Grid>
                                                </ListView.Header>

                                                <ListView.ItemTemplate>
                                                    <DataTemplate x:DataType="model:TargetDeviceFamilyModel">
                                                        <Grid
                                                            Height="35"
                                                            Padding="10,0,16,0"
                                                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                            BorderThickness="0,1,0,0">

                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="3*" />
                                                                <ColumnDefinition Width="2*" />
                                                                <ColumnDefinition Width="2*" />
                                                            </Grid.ColumnDefinitions>

                                                            <TextBlock
                                                                x:Name="TargetDeviceNameText"
                                                                Grid.Column="0"
                                                                Margin="6,0,0,0"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                IsTextSelectionEnabled="True"
                                                                Text="{x:Bind TargetDeviceName}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind TargetDeviceName}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{Binding ElementName=TargetDeviceNameText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>

                                                            <TextBlock
                                                                x:Name="MinVersionText"
                                                                Grid.Column="1"
                                                                Margin="6,0,0,0"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                IsTextSelectionEnabled="True"
                                                                Text="{x:Bind system:Convert.ToString(MinVersion)}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind system:Convert.ToString(MinVersion)}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{Binding ElementName=MinVersionText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>

                                                            <TextBlock
                                                                x:Name="MaxVersionTestedText"
                                                                Grid.Column="2"
                                                                Margin="6,0,0,0"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                IsTextSelectionEnabled="True"
                                                                Text="{x:Bind system:Convert.ToString(MaxVersionTested)}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind system:Convert.ToString(MaxVersionTested)}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{Binding ElementName=MaxVersionTestedText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>
                                                        </Grid>
                                                    </DataTemplate>
                                                </ListView.ItemTemplate>
                                            </ListView>
                                        </Expander.Content>
                                    </Expander>

                                    <!--  依赖项信息  -->
                                    <Expander
                                        Margin="0,0,0,2"
                                        Padding="0"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Stretch"
                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        IsExpanded="True"
                                        Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(DependencyCollection.Count), Mode=OneWay}">

                                        <Expander.Header>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>

                                                <FontIcon
                                                    Grid.Column="0"
                                                    Margin="0,0,12,0"
                                                    FontSize="16"
                                                    Glyph="&#xE8AB;" />

                                                <TextBlock
                                                    Grid.Column="1"
                                                    VerticalAlignment="Center"
                                                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/PackageDependency')}" />

                                                <HyperlinkButton
                                                    Grid.Column="2"
                                                    Margin="0,0,-15,0"
                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/LearnPackageDependency')}"
                                                    NavigateUri="https://learn.microsoft.com/uwp/schemas/appxpackage/uapmanifestschema/element-packagedependency" />
                                            </Grid>
                                        </Expander.Header>

                                        <Expander.Content>
                                            <Grid>
                                                <ListView
                                                    ItemsSource="{x:Bind DependencyCollection}"
                                                    SelectionMode="None"
                                                    Visibility="{x:Bind converter:ValueCheckConverterHelper.CheckPackageFileType(PackageFileType, enum:PackageFileType.Package), Mode=OneWay}">

                                                    <ListView.ItemContainerStyle>
                                                        <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                                            <Setter Property="Background" Value="Transparent" />
                                                            <Setter Property="Margin" Value="0" />
                                                            <Setter Property="MinHeight" Value="0" />
                                                            <Setter Property="Padding" Value="0" />
                                                        </Style>
                                                    </ListView.ItemContainerStyle>

                                                    <ItemsControl.ItemContainerTransitions>
                                                        <TransitionCollection />
                                                    </ItemsControl.ItemContainerTransitions>

                                                    <ListView.Header>
                                                        <Grid
                                                            x:Name="PackageDependencyGrid"
                                                            Height="35"
                                                            Padding="10,0,16,0"
                                                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                            BorderThickness="0">

                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="2*" />
                                                                <ColumnDefinition Width="2*" />
                                                                <ColumnDefinition Width="*" />
                                                            </Grid.ColumnDefinitions>

                                                            <TextBlock
                                                                x:Name="PackageDependencyNameHeaderText"
                                                                Grid.Column="0"
                                                                Margin="6,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyName')}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyName')}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{x:Bind PackageDependencyNameHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>

                                                            <TextBlock
                                                                x:Name="PackageDependencyPublisherHeaderText"
                                                                Grid.Column="1"
                                                                Margin="6,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyPublisher')}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyPublisher')}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{x:Bind PackageDependencyPublisherHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>

                                                            <TextBlock
                                                                x:Name="PackageDependencyMinVersionHeaderText"
                                                                Grid.Column="2"
                                                                Margin="6,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyMinVersion')}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyMinVersion')}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{x:Bind PackageDependencyMinVersionHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>
                                                        </Grid>
                                                    </ListView.Header>

                                                    <ListView.ItemTemplate>
                                                        <DataTemplate x:DataType="model:DependencyModel">
                                                            <Grid
                                                                Height="35"
                                                                Padding="10,0,16,0"
                                                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                                BorderThickness="0,1,0,0">

                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="2*" />
                                                                    <ColumnDefinition Width="2*" />
                                                                    <ColumnDefinition Width="*" />
                                                                </Grid.ColumnDefinitions>

                                                                <TextBlock
                                                                    x:Name="PackageDependencyNameText"
                                                                    Grid.Column="0"
                                                                    Margin="6,0,0,0"
                                                                    HorizontalAlignment="Left"
                                                                    VerticalAlignment="Center"
                                                                    IsTextSelectionEnabled="True"
                                                                    Text="{x:Bind DependencyName}"
                                                                    TextAlignment="Left"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    TextWrapping="NoWrap">

                                                                    <ToolTipService.ToolTip>
                                                                        <ToolTip
                                                                            MaxWidth="9999"
                                                                            Background="Transparent"
                                                                            Content="{x:Bind DependencyName}"
                                                                            Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                            Visibility="{Binding ElementName=PackageDependencyNameText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                    </ToolTipService.ToolTip>
                                                                </TextBlock>

                                                                <TextBlock
                                                                    x:Name="PackageDependencyPublisherText"
                                                                    Grid.Column="1"
                                                                    Margin="6,0,0,0"
                                                                    HorizontalAlignment="Left"
                                                                    VerticalAlignment="Center"
                                                                    IsTextSelectionEnabled="True"
                                                                    Text="{x:Bind DependencyPublisher}"
                                                                    TextAlignment="Left"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    TextWrapping="NoWrap">

                                                                    <ToolTipService.ToolTip>
                                                                        <ToolTip
                                                                            MaxWidth="9999"
                                                                            Background="Transparent"
                                                                            Content="{x:Bind DependencyPublisher}"
                                                                            Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                            Visibility="{Binding ElementName=PackageDependencyPublisherText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                    </ToolTipService.ToolTip>
                                                                </TextBlock>

                                                                <TextBlock
                                                                    x:Name="PackageDependencyMinVersionText"
                                                                    Grid.Column="2"
                                                                    Margin="6,0,0,0"
                                                                    HorizontalAlignment="Left"
                                                                    VerticalAlignment="Center"
                                                                    IsTextSelectionEnabled="True"
                                                                    Text="{x:Bind system:Convert.ToString(DependencyMinVersion)}"
                                                                    TextAlignment="Left"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    TextWrapping="NoWrap">

                                                                    <ToolTipService.ToolTip>
                                                                        <ToolTip
                                                                            MaxWidth="9999"
                                                                            Background="Transparent"
                                                                            Content="{x:Bind system:Convert.ToString(DependencyMinVersion)}"
                                                                            Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                            Visibility="{Binding ElementName=PackageDependencyMinVersionText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                    </ToolTipService.ToolTip>
                                                                </TextBlock>
                                                            </Grid>
                                                        </DataTemplate>
                                                    </ListView.ItemTemplate>
                                                </ListView>

                                                <ListView
                                                    ItemsSource="{x:Bind DependencyCollection}"
                                                    SelectionMode="None"
                                                    Visibility="{x:Bind converter:ValueCheckConverterHelper.CheckPackageFileType(PackageFileType, enum:PackageFileType.AppInstaller), Mode=OneWay}">

                                                    <ListView.ItemContainerStyle>
                                                        <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                                            <Setter Property="Background" Value="Transparent" />
                                                            <Setter Property="Margin" Value="0" />
                                                            <Setter Property="MinHeight" Value="0" />
                                                            <Setter Property="Padding" Value="0" />
                                                        </Style>
                                                    </ListView.ItemContainerStyle>

                                                    <ItemsControl.ItemContainerTransitions>
                                                        <TransitionCollection />
                                                    </ItemsControl.ItemContainerTransitions>

                                                    <ListView.Header>
                                                        <Grid
                                                            x:Name="AppInstallerDependencyGrid"
                                                            Height="35"
                                                            Padding="10,0,16,0"
                                                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                            BorderThickness="0">

                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="2*" />
                                                                <ColumnDefinition Width="2*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="40" />
                                                            </Grid.ColumnDefinitions>

                                                            <TextBlock
                                                                x:Name="AppInstallerDependencyNameHeaderText"
                                                                Grid.Column="0"
                                                                Margin="6,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyName')}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyName')}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{x:Bind AppInstallerDependencyNameHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>

                                                            <TextBlock
                                                                x:Name="AppInstallerDependencyPublisherHeaderText"
                                                                Grid.Column="1"
                                                                Margin="6,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyPublisher')}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyPublisher')}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{x:Bind AppInstallerDependencyPublisherHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>

                                                            <TextBlock
                                                                x:Name="AppInstallerDependencyVersionHeaderText"
                                                                Grid.Column="2"
                                                                Margin="6,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyVersion')}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyVersion')}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{x:Bind AppInstallerDependencyVersionHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>

                                                            <TextBlock
                                                                x:Name="AppInstallerDependencyProcessorArchitectureHeaderText"
                                                                Grid.Column="3"
                                                                Margin="6,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyProcessorArchitecture')}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyProcessorArchitecture')}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{x:Bind AppInstallerDependencyProcessorArchitectureHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>

                                                            <TextBlock
                                                                x:Name="AppInstallerDependencyOperationHeaderText"
                                                                Grid.Column="4"
                                                                Margin="6,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyOperation')}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/DependencyOperation')}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{x:Bind AppInstallerDependencyOperationHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>
                                                        </Grid>
                                                    </ListView.Header>

                                                    <ListView.ItemTemplate>
                                                        <DataTemplate x:DataType="model:DependencyModel">
                                                            <Grid
                                                                Height="35"
                                                                Padding="10,0,16,0"
                                                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                                BorderThickness="0,1,0,0">

                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="2*" />
                                                                    <ColumnDefinition Width="2*" />
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="40" />
                                                                </Grid.ColumnDefinitions>

                                                                <TextBlock
                                                                    x:Name="AppInstallerDependencyNameText"
                                                                    Grid.Column="0"
                                                                    Margin="6,0,0,0"
                                                                    HorizontalAlignment="Left"
                                                                    VerticalAlignment="Center"
                                                                    IsTextSelectionEnabled="True"
                                                                    Text="{x:Bind DependencyName}"
                                                                    TextAlignment="Left"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    TextWrapping="NoWrap">

                                                                    <ToolTipService.ToolTip>
                                                                        <ToolTip
                                                                            MaxWidth="9999"
                                                                            Background="Transparent"
                                                                            Content="{x:Bind DependencyName}"
                                                                            Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                            Visibility="{Binding ElementName=AppInstallerDependencyNameText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                    </ToolTipService.ToolTip>
                                                                </TextBlock>

                                                                <TextBlock
                                                                    x:Name="AppInstallerDependencyPublisherText"
                                                                    Grid.Column="1"
                                                                    Margin="6,0,0,0"
                                                                    HorizontalAlignment="Left"
                                                                    VerticalAlignment="Center"
                                                                    IsTextSelectionEnabled="True"
                                                                    Text="{x:Bind DependencyPublisher}"
                                                                    TextAlignment="Left"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    TextWrapping="NoWrap">

                                                                    <ToolTipService.ToolTip>
                                                                        <ToolTip
                                                                            MaxWidth="9999"
                                                                            Background="Transparent"
                                                                            Content="{x:Bind DependencyPublisher}"
                                                                            Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                            Visibility="{Binding ElementName=AppInstallerDependencyPublisherText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                    </ToolTipService.ToolTip>
                                                                </TextBlock>

                                                                <TextBlock
                                                                    x:Name="AppInstallerDependencyVersionText"
                                                                    Grid.Column="2"
                                                                    Margin="6,0,0,0"
                                                                    HorizontalAlignment="Left"
                                                                    VerticalAlignment="Center"
                                                                    IsTextSelectionEnabled="True"
                                                                    Text="{x:Bind system:Convert.ToString(DependencyVersion)}"
                                                                    TextAlignment="Left"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    TextWrapping="NoWrap">

                                                                    <ToolTipService.ToolTip>
                                                                        <ToolTip
                                                                            MaxWidth="9999"
                                                                            Background="Transparent"
                                                                            Content="{x:Bind system:Convert.ToString(DependencyVersion)}"
                                                                            Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                            Visibility="{Binding ElementName=AppInstallerDependencyVersionText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                    </ToolTipService.ToolTip>
                                                                </TextBlock>

                                                                <TextBlock
                                                                    x:Name="AppInstallerDependencyProcessorArchitectureText"
                                                                    Grid.Column="3"
                                                                    Margin="6,0,0,0"
                                                                    HorizontalAlignment="Left"
                                                                    VerticalAlignment="Center"
                                                                    IsTextSelectionEnabled="True"
                                                                    Text="{x:Bind ProcessorArchitecture}"
                                                                    TextAlignment="Left"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    TextWrapping="NoWrap">

                                                                    <ToolTipService.ToolTip>
                                                                        <ToolTip
                                                                            MaxWidth="9999"
                                                                            Background="Transparent"
                                                                            Content="{x:Bind ProcessorArchitecture}"
                                                                            Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                            Visibility="{Binding ElementName=AppInstallerDependencyProcessorArchitectureText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                    </ToolTipService.ToolTip>
                                                                </TextBlock>

                                                                <TextBlock
                                                                    Grid.Column="4"
                                                                    Margin="6,0,0,0"
                                                                    HorizontalAlignment="Left"
                                                                    IsTextSelectionEnabled="True"
                                                                    TextTrimming="CharacterEllipsis">

                                                                    <Hyperlink NavigateUri="{x:Bind Uri}" UnderlineStyle="None">
                                                                        <Run Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Open')}" />
                                                                    </Hyperlink>

                                                                    <ToolTipService.ToolTip>
                                                                        <ToolTip
                                                                            MaxWidth="9999"
                                                                            Background="Transparent"
                                                                            Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/OpenLink')}"
                                                                            Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}" />
                                                                    </ToolTipService.ToolTip>
                                                                </TextBlock>
                                                            </Grid>
                                                        </DataTemplate>
                                                    </ListView.ItemTemplate>
                                                </ListView>
                                            </Grid>
                                        </Expander.Content>
                                    </Expander>

                                    <!--  应用包功能信息  -->
                                    <Expander
                                        Margin="0,0,0,2"
                                        Padding="0"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Stretch"
                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        IsExpanded="True"
                                        Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(CapabilitiesCollection.Count), Mode=OneWay}">

                                        <Expander.Header>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>

                                                <FontIcon
                                                    Grid.Column="0"
                                                    Margin="0,0,12,0"
                                                    FontSize="16"
                                                    Glyph="&#xE8A1;" />

                                                <TextBlock
                                                    Grid.Column="1"
                                                    VerticalAlignment="Center"
                                                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/PackageCapability')}" />

                                                <HyperlinkButton
                                                    Grid.Column="2"
                                                    Margin="0,0,-15,0"
                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/LearnPackageCapability')}"
                                                    NavigateUri="https://learn.microsoft.com/windows/uwp/packaging/app-capability-declarations" />
                                            </Grid>
                                        </Expander.Header>

                                        <Expander.Content>
                                            <ListView
                                                Margin="16,2,10,2"
                                                ItemsSource="{x:Bind CapabilitiesCollection}"
                                                SelectionMode="None">

                                                <ListView.ItemContainerStyle>
                                                    <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                                        <Setter Property="Margin" Value="0,0,2,0" />
                                                        <Setter Property="MinHeight" Value="0" />
                                                        <Setter Property="Padding" Value="0,0,0,0" />
                                                    </Style>
                                                </ListView.ItemContainerStyle>

                                                <ListView.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <ItemsWrapGrid Orientation="Horizontal" />
                                                    </ItemsPanelTemplate>
                                                </ListView.ItemsPanel>

                                                <ListView.ItemTemplate>
                                                    <DataTemplate x:DataType="model:CapabilityModel">
                                                        <Grid
                                                            Width="220"
                                                            Height="30"
                                                            HorizontalAlignment="Left">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="Auto" />
                                                                <ColumnDefinition Width="*" />
                                                            </Grid.ColumnDefinitions>

                                                            <FontIcon
                                                                Grid.Column="0"
                                                                Margin="0,0,12,0"
                                                                FontSize="12"
                                                                Glyph="&#xE915;" />

                                                            <TextBlock
                                                                Grid.Column="1"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                IsTextSelectionEnabled="True"
                                                                Text="{x:Bind CapabilityLocalizedName}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}">
                                                                        <StackPanel>
                                                                            <TextBlock Text="{x:Bind CapabilityLocalizedName}" />
                                                                            <TextBlock Text="{x:Bind CapabilityName}" />
                                                                        </StackPanel>
                                                                    </ToolTip>
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>
                                                        </Grid>
                                                    </DataTemplate>
                                                </ListView.ItemTemplate>
                                            </ListView>
                                        </Expander.Content>
                                    </Expander>

                                    <!--  应用包应用信息  -->
                                    <Expander
                                        Margin="0,0,0,2"
                                        Padding="0"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Stretch"
                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        IsExpanded="True"
                                        Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(ApplicationCollection.Count), Mode=OneWay}">

                                        <Expander.Header>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                </Grid.ColumnDefinitions>

                                                <FontIcon
                                                    Grid.Column="0"
                                                    Margin="0,0,12,0"
                                                    FontSize="16"
                                                    Glyph="&#xE71D;" />

                                                <TextBlock
                                                    Grid.Column="1"
                                                    VerticalAlignment="Center"
                                                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/PackageApplication')}" />
                                            </Grid>
                                        </Expander.Header>

                                        <Expander.Content>
                                            <ListView ItemsSource="{x:Bind ApplicationCollection}" SelectionMode="None">

                                                <ListView.ItemContainerStyle>
                                                    <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                                        <Setter Property="Background" Value="Transparent" />
                                                        <Setter Property="Margin" Value="0" />
                                                        <Setter Property="MinHeight" Value="0" />
                                                        <Setter Property="Padding" Value="0" />
                                                    </Style>
                                                </ListView.ItemContainerStyle>

                                                <ItemsControl.ItemContainerTransitions>
                                                    <TransitionCollection />
                                                </ItemsControl.ItemContainerTransitions>

                                                <ListView.Header>
                                                    <Grid
                                                        Height="35"
                                                        Padding="10,0,16,0"
                                                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                        BorderThickness="0">

                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="2*" />
                                                            <ColumnDefinition Width="2*" />
                                                            <ColumnDefinition Width="2*" />
                                                            <ColumnDefinition Width="2*" />
                                                            <ColumnDefinition Width="3*" />
                                                        </Grid.ColumnDefinitions>

                                                        <TextBlock
                                                            x:Name="AppIDHeaderText"
                                                            Grid.Column="0"
                                                            Margin="6,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AppID')}"
                                                            TextAlignment="Left"
                                                            TextTrimming="CharacterEllipsis"
                                                            TextWrapping="NoWrap">

                                                            <ToolTipService.ToolTip>
                                                                <ToolTip
                                                                    MaxWidth="9999"
                                                                    Background="Transparent"
                                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AppID')}"
                                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                    Visibility="{x:Bind AppIDHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                            </ToolTipService.ToolTip>
                                                        </TextBlock>

                                                        <TextBlock
                                                            x:Name="AppDescriptionHeaderText"
                                                            Grid.Column="1"
                                                            Margin="6,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AppDescription')}"
                                                            TextAlignment="Left"
                                                            TextTrimming="CharacterEllipsis"
                                                            TextWrapping="NoWrap">

                                                            <ToolTipService.ToolTip>
                                                                <ToolTip
                                                                    MaxWidth="9999"
                                                                    Background="Transparent"
                                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AppDescription')}"
                                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                    Visibility="{x:Bind AppDescriptionHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                            </ToolTipService.ToolTip>
                                                        </TextBlock>

                                                        <TextBlock
                                                            x:Name="ExecutableHeaderText"
                                                            Grid.Column="2"
                                                            Margin="6,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Executable')}"
                                                            TextAlignment="Left"
                                                            TextTrimming="CharacterEllipsis"
                                                            TextWrapping="NoWrap">

                                                            <ToolTipService.ToolTip>
                                                                <ToolTip
                                                                    MaxWidth="9999"
                                                                    Background="Transparent"
                                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/Executable')}"
                                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                    Visibility="{x:Bind ExecutableHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                            </ToolTipService.ToolTip>
                                                        </TextBlock>

                                                        <TextBlock
                                                            x:Name="EntryPointHeaderText"
                                                            Grid.Column="3"
                                                            Margin="6,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/EntryPoint')}"
                                                            TextAlignment="Left"
                                                            TextTrimming="CharacterEllipsis"
                                                            TextWrapping="NoWrap">

                                                            <ToolTipService.ToolTip>
                                                                <ToolTip
                                                                    MaxWidth="9999"
                                                                    Background="Transparent"
                                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/EntryPoint')}"
                                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                    Visibility="{x:Bind EntryPointHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                            </ToolTipService.ToolTip>
                                                        </TextBlock>

                                                        <TextBlock
                                                            x:Name="AppUserModelIdHeaderText"
                                                            Grid.Column="4"
                                                            Margin="6,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AppUserModelId')}"
                                                            TextAlignment="Left"
                                                            TextTrimming="CharacterEllipsis"
                                                            TextWrapping="NoWrap">

                                                            <ToolTipService.ToolTip>
                                                                <ToolTip
                                                                    MaxWidth="9999"
                                                                    Background="Transparent"
                                                                    Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/AppUserModelId')}"
                                                                    Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                    Visibility="{x:Bind AppUserModelIdHeaderText.IsTextTrimmed, Mode=OneWay}" />
                                                            </ToolTipService.ToolTip>
                                                        </TextBlock>
                                                    </Grid>
                                                </ListView.Header>

                                                <ListView.ItemTemplate>
                                                    <DataTemplate x:DataType="model:ApplicationModel">
                                                        <Grid
                                                            Height="35"
                                                            Padding="10,0,16,0"
                                                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                                            BorderThickness="0,1,0,0">

                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="2*" />
                                                                <ColumnDefinition Width="2*" />
                                                                <ColumnDefinition Width="2*" />
                                                                <ColumnDefinition Width="2*" />
                                                                <ColumnDefinition Width="3*" />
                                                            </Grid.ColumnDefinitions>

                                                            <TextBlock
                                                                x:Name="AppIDText"
                                                                Grid.Column="0"
                                                                Margin="6,0,0,0"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                IsTextSelectionEnabled="True"
                                                                Text="{x:Bind AppID}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind AppID}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{Binding ElementName=AppIDText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>

                                                            <TextBlock
                                                                x:Name="AppDescriptionText"
                                                                Grid.Column="1"
                                                                Margin="6,0,0,0"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                IsTextSelectionEnabled="True"
                                                                Text="{x:Bind AppDescription}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind AppDescription}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{Binding ElementName=AppDescriptionText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>

                                                            <TextBlock
                                                                x:Name="ExecutableText"
                                                                Grid.Column="2"
                                                                Margin="6,0,0,0"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                IsTextSelectionEnabled="True"
                                                                Text="{x:Bind Executable}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind Executable}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{Binding ElementName=ExecutableText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>

                                                            <TextBlock
                                                                x:Name="EntryPointText"
                                                                Grid.Column="3"
                                                                Margin="6,0,0,0"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                IsTextSelectionEnabled="True"
                                                                Text="{x:Bind EntryPoint}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind EntryPoint}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{Binding ElementName=EntryPointText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>

                                                            <TextBlock
                                                                x:Name="AppUserModelIdText"
                                                                Grid.Column="4"
                                                                Margin="6,0,0,0"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                IsTextSelectionEnabled="True"
                                                                Text="{x:Bind AppUserModelId}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Content="{x:Bind AppUserModelId}"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}"
                                                                        Visibility="{Binding ElementName=AppUserModelIdText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>
                                                        </Grid>
                                                    </DataTemplate>
                                                </ListView.ItemTemplate>
                                            </ListView>
                                        </Expander.Content>
                                    </Expander>

                                    <!--  应用包语言信息  -->
                                    <Expander
                                        Padding="0"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Stretch"
                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        IsExpanded="True"
                                        Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(LanguageCollection.Count), Mode=OneWay}">

                                        <Expander.Header>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                </Grid.ColumnDefinitions>

                                                <FontIcon
                                                    Grid.Column="0"
                                                    Margin="0,0,12,0"
                                                    FontSize="16"
                                                    Glyph="&#xF2B7;" />

                                                <TextBlock
                                                    Grid.Column="1"
                                                    VerticalAlignment="Center"
                                                    Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/PackageLanguage')}" />
                                            </Grid>
                                        </Expander.Header>

                                        <Expander.Content>
                                            <ListView
                                                Margin="16,2,10,2"
                                                ItemsSource="{x:Bind LanguageCollection}"
                                                SelectionMode="None">

                                                <ListView.ItemContainerStyle>
                                                    <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                                        <Setter Property="Margin" Value="0,0,2,0" />
                                                        <Setter Property="MinHeight" Value="0" />
                                                        <Setter Property="Padding" Value="0,0,0,0" />
                                                    </Style>
                                                </ListView.ItemContainerStyle>

                                                <ListView.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <ItemsWrapGrid Orientation="Horizontal" />
                                                    </ItemsPanelTemplate>
                                                </ListView.ItemsPanel>

                                                <ListView.ItemTemplate>
                                                    <DataTemplate x:DataType="globalization:Language">
                                                        <Grid
                                                            Width="220"
                                                            Height="30"
                                                            HorizontalAlignment="Left">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="Auto" />
                                                                <ColumnDefinition Width="*" />
                                                            </Grid.ColumnDefinitions>

                                                            <FontIcon
                                                                Grid.Column="0"
                                                                Margin="0,0,12,0"
                                                                FontSize="12"
                                                                Glyph="&#xE915;" />

                                                            <TextBlock
                                                                Grid.Column="1"
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"
                                                                IsTextSelectionEnabled="True"
                                                                Text="{x:Bind DisplayName}"
                                                                TextAlignment="Left"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="NoWrap">

                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip
                                                                        MaxWidth="9999"
                                                                        Background="Transparent"
                                                                        Loaded="{x:Bind backdrophelper:ToolTipBackdropHelper.OnLoaded}">
                                                                        <ToolTip.Content>
                                                                            <TextBlock>
                                                                                <Run Text="{x:Bind DisplayName}" />
                                                                                <Run Text=" - " />
                                                                                <Run Text="{x:Bind LanguageTag}" />
                                                                            </TextBlock>
                                                                        </ToolTip.Content>
                                                                    </ToolTip>
                                                                </ToolTipService.ToolTip>
                                                            </TextBlock>
                                                        </Grid>
                                                    </DataTemplate>
                                                </ListView.ItemTemplate>
                                            </ListView>
                                        </Expander.Content>
                                    </Expander>
                                </StackPanel>
                            </Border>
                        </ScrollViewer>
                    </Grid>

                    <!--  解析失败  -->
                    <Grid
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        RowSpacing="10"
                        Visibility="{x:Bind converter:ValueConverterHelper.BooleanToVisibilityReverseConvert(IsParseSuccessfully), Mode=OneWay}">

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto " />
                            <RowDefinition Height="Auto " />
                        </Grid.RowDefinitions>

                        <TextBlock
                            Grid.Row="0"
                            FontSize="26"
                            Text="{x:Bind rootservice:ResourceService.GetLocalized('Installer/ParseFailed')}" />

                        <Button
                            Grid.Row="1"
                            HorizontalAlignment="Center"
                            Click="{x:Bind OnOpenOtherPackageClicked}"
                            Content="{x:Bind rootservice:ResourceService.GetLocalized('Installer/OpenOtherPackage')}" />
                    </Grid>
                </Grid>
            </Grid>

            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup>
                    <VisualState x:Name="BackgroundDefault">
                        <VisualState.Setters>
                            <Setter Target="InstallerPage.Background" Value="{ThemeResource DefaultBackgroundColorBrush}" />
                        </VisualState.Setters>
                    </VisualState>
                    <VisualState x:Name="BackgroundTransparent">
                        <VisualState.Setters>
                            <Setter Target="InstallerPage.Background" Value="Transparent" />
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>
        </Grid>
    </Page>
</Window>
